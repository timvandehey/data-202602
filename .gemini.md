# Gemini Instructions: JurisJS Block Wiki

## üß© Framework Philosophy (JurisJS)
You are an expert in JurisJS. Follow these strict syntax rules:
- **Juris.js** Always use this library @juris.js
- **Object DOM:** Never use HTML strings or JSX. Use `{ tag: { props: {}, children: [] } }`.
- **End-Bracket Labeling:** Always label closing brackets for readability (e.g., `}//div`).
- **Reactive State:** Use `() => getState('path')` for reactive properties.
- **Non-Blocking:** Use async renderers for database calls to keep the PWA smooth.

## üß± Block-Based Architecture
- A "Note" is a document with a `blocks` array: `[{ id: '1', type: 'text', content: '' }]`.
- Use a "Block Wrapper" component for drag handles and deletion.
- Slash Commands (`/`) should trigger a JurisJS overlay menu.

## üóÑÔ∏è Database Strategy (CouchDB/PouchDB)
- Always assume 2-way sync is active.
- Use `db.put()` for updates and `db.getAttachment()` for pasted images.
- Attachments should be rendered via `URL.createObjectURL(blob)`.

## üõ†Ô∏è Personal Context
- Environment: Bun as server with server.js as file name.
- Use Case: Personal wiki for property management (WI/AZ), golf logs, and n8n clips.

## Examples

- Use this article for examples on how to code with @juris.js

## Article

---
title: "Learn Juris in One Hour, Code for Another Hour"
source: "https://medium.com/@resti.guay/learn-juris-in-one-hour-code-for-another-hour-081ebedad172"
author:
  - "[[Resti Guay]]"
published: 2025-07-23
created: 2026-01-08
description: "Learn Juris in One Hour, Code for Another Hour Warning: You Can‚Äôt Unsee This By Resti Guay, Creator of Juris I need to give you a warning before we start: Once you see how Juris works, you can‚Äôt ‚Ä¶"
tags:
  - "clippings"
---
[Sitemap](https://medium.com/sitemap/sitemap.xml)

![](https://miro.medium.com/v2/resize:fit:640/format:webp/1*iaP5oZXTNC_TQFGRzPfmoQ.jpeg)

Photo by Pixabay: https://www.pexels.com/photo/gray-study-dice-on-table-301920/

## Warning: You Can‚Äôt Unsee This

*By Resti Guay, Creator of Juris*

I need to give you a warning before we start: **Once you see how Juris works, you can‚Äôt unsee it.**

You‚Äôll try to go back to React, Vue, or Angular, and you‚Äôll find yourself frustrated. You‚Äôll wonder why you need so much boilerplate. Why everything feels indirect. Why simple things require complex solutions.

**This is your last chance to stay comfortable with the status quo.**

Still here? Good. Let‚Äôs ruin other frameworks for you in just two hours.

## The Complete Example (Copy, Paste, Run)

Before we dive deep, here‚Äôs a complete Juris application. Copy this into an HTML file and open it in your browser:

```javascript
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juris App</title>    
    <script src="https://unpkg.com/juris@0.87.2/juris.js"></script>
</head>
<body>
    <div id="app"></div>
    <script>
        const juris = new Juris()
        juris.layout = {div: {
            children: [
                {span: {text: () => juris.getState('count', 0)}},
                {button: {
                    text: () => 'Increment', 
                    onclick: () => {
                        juris.setState('count', juris.getState('count', 0) + 1)
                    }
                }}
            ]
        }};                
        juris.render();
    </script>
</body>
</html>
```

**That‚Äôs it. A complete reactive application in 15 lines of code.**

No build tools. No package.json. No bundlers. No CLI. No configuration files. Just **one HTML file that runs a reactive application.**

Did you notice what just happened? You built a reactive counter app without:

- `useState` hooks
- Component classes
- State management libraries
- Virtual DOM
- JSX compilation
- Webpack configuration
- NPM dependencies (beyond Juris itself)

**If this doesn‚Äôt make you question everything about modern web development, nothing will.**

## Hour One: Learning Juris (The ‚ÄúOh, That‚Äôs It?‚Äù Hour)

## Minute 1‚Äì5: The Core Concept

Juris has exactly one concept: **JavaScript objects become DOM elements**.

```javascript
// This object...
{div: {
    text: 'Hello World',
    style: {color: 'blue'}
}}

// ...becomes this DOM:
// <div style="color: blue">Hello World</div>
```

That‚Äôs it. That‚Äôs the entire framework philosophy.

**The Pattern:**`{tagName: {properties}}`

- `{div: {...}}` becomes `<div>...</div>`
- `{h1: {...}}` becomes `<h1>...</h1>`
- `{button: {...}}` becomes `<button>...</button>`

**For text content:** Use the `text` property

```javascript
{h1: {text: 'My Title'}}        // <h1>My Title</h1>
{p: {text: 'Some paragraph'}}   // <p>Some paragraph</p>
{span: {text: 'Small text'}}    // <span>Small text</span>
```

**For nested elements:** Use the `children` property

```javascript
{div: {
    children: [
        {h1: {text: 'Title'}},
        {p: {text: 'Content'}}
    ]
}}
```

**Remember the brackets:**

- `{` starts an element
- `}` ends an element
- `[` starts a children array
- `]` ends a children array

**Pro tip:** If you forget the structure, think HTML but with JavaScript object syntax:

- HTML: `<div>content</div>`
- Juris: `{div: {text: 'content'}}`

## Minute 6‚Äì10: Adding Reactivity

Want reactivity? Wrap it in a function:

```javascript
{div: {
    text: () => \`Count: ${getState('counter', 0)}\`,
    style: () => ({
        color: getState('counter', 0) > 5 ? 'red' : 'blue'
    })
}}
```

When `counter` changes, the text and color update automatically. No `useState`, no `ref`, no `computed`, no `useEffect`. Just **direct reactive expressions**.

## Minute 11‚Äì15: Your First Component (The Hidden Superpower)

```javascript
const Counter = (props, context) => ({
    div: {
        children: [
            {h2: {text: () => \`Count: ${context.getState('counter', 0)}\`}},
            {button: {
                text: '+',
                onclick: () => {
                    const current = context.getState('counter', 0);
                    context.setState('counter', current + 1);
                }
            }},
            {button: {
                text: '-',
                onclick: () => {
                    const current = context.getState('counter', 0);
                    context.setState('counter', current - 1);
                }
            }}
        ]
    }
});

// Register the component with Juris
juris.registerComponent('Counter', Counter);

// Set it as your layout
juris.layout = {Counter: {}};
juris.render();
```

**Wait, that‚Äôs it?** No hooks, no lifecycle methods, no class constructors, no `this.setState()`. Just a function that returns an object, register it, and use it.

**But here‚Äôs the hidden superpower you just used:** Notice how your component asks for `context.getState('counter', 0)` even though you never initialized that state anywhere? In other frameworks, this would break. In Juris, it just works. The component is **temporally independent** - it works whether the state exists now, later, or never.

This is why you can write `{UserProfile: {}}` even before you've loaded user data. Components gracefully handle missing dependencies and automatically update when the data arrives. **You just experienced one of Juris's most powerful features without even realizing it.**

## Minute 16‚Äì20: Element-Level Reactivity (The Mind-Blow Moment)

Here‚Äôs where your brain breaks. In other frameworks, you manage components. In Juris, **elements manage themselves**:

```javascript
{div: {
    style: (el) => {
        // \`el\` is the EXACT DOM element this style applies to
        const isActive = getState('ui.active');
        
        if (isActive) {
            // Direct DOM manipulation for complex animations
            let frame = 0;
            const animate = () => {
                frame++;
                el.style.transform = \`rotate(${frame * 2}deg) scale(${1 + Math.sin(frame * 0.1) * 0.2})\`;
                if (getState('ui.active')) requestAnimationFrame(animate);
            };
            animate();
        }
        
        return {}; // "I handled this myself"
    }
}}
```

You‚Äôre not fighting the framework for performance. You‚Äôre working **with** the browser‚Äôs native APIs, triggered by reactive state changes.

## Minute 21‚Äì30: Composition That Actually Makes Sense

```javascript
const UserCard = (props, context) => ({
    div: {
        class: 'user-card',
        children: [
            {img: {src: props.user.avatar}},
            {h3: {text: props.user.name}},
            {p: {text: props.user.email}}
        ]
    }
});

const UserList = (props, context) => ({
    div: {
        children: props.users.map(user => ({
            UserCard: {user, key: user.id}
        }))
    }
});

// Usage - no JSX, no templates, just objects
{UserList: {users: getAllUsers()}}
```

No import statements, no wrapper components, no prop drilling. Components reference each other by name. **It just works.**

## Minute 31‚Äì40: State That Actually Makes Sense

```javascript
// Set state anywhere
context.setState('user.profile.name', 'John');
context.setState('ui.theme', 'dark');
context.setState('cart.items', [item1, item2]);

// Get state anywhere (for static values only)
const userName = context.getState('user.profile.name', 'Guest');
const theme = context.getState('ui.theme', 'light');
const cartCount = context.getState('cart.items', []).length;

// For reactive values, always wrap in functions
{div: {
    text: () => \`Welcome, ${context.getState('user.profile.name', 'Guest')}!\`,
    style: () => ({
        backgroundColor: context.getState('ui.theme') === 'dark' ? '#333' : '#fff',
        color: context.getState('ui.theme') === 'dark' ? '#fff' : '#333'
    })
}}
```

**The rule:** Direct `getState()` calls are for when you need the value **right now** (like in event handlers or calculations). For values that should **update the UI when they change**, always wrap in a function `() => getState(...)`.

**No context providers.** No prop drilling. No reducer boilerplate. Just **direct state access** with automatic reactivity when you need it.

## Minute 41‚Äì50: Forms That Don‚Äôt Suck

```javascript
const ContactForm = (props, context) => ({
    form: {
        onsubmit: (e) => {
            e.preventDefault();
            const formData = {
                name: context.getState('form.name', ''),
                email: context.getState('form.email', ''),
                message: context.getState('form.message', '')
            };
            props.onSubmit(formData);
        },
        children: [
            {input: {
                type: 'text',
                placeholder: 'Name',
                value: () => context.getState('form.name', ''),
                oninput: (e) => context.setState('form.name', e.target.value)
            }},
            {input: {
                type: 'email',
                placeholder: 'Email',
                value: () => context.getState('form.email', ''),
                oninput: (e) => context.setState('form.email', e.target.value)
            }},
            {textarea: {
                placeholder: 'Message',
                value: () => context.getState('form.message', ''),
                oninput: (e) => context.setState('form.message', e.target.value)
            }},
            {button: {
                type: 'submit',
                text: 'Send Message'
            }}
        ]
    }
});
```

**No controlled components.** No `onChange` handlers. No form state management libraries. Just **direct binding** between form fields and state.

## Minute 51‚Äì60: The ‚ÄúWait, Where‚Äôs the Framework?‚Äù Moment

By now you‚Äôre looking around wondering where the framework is. Where are the:

- Component lifecycle methods?
- State management patterns?
- Event handling systems?
- Rendering optimizations?
- Update scheduling?

**They don‚Äôt exist because they‚Äôre not needed.** Juris gets out of your way and lets you work directly with JavaScript objects and DOM APIs.

## A Note on Readability

**Don‚Äôt judge Juris readability by reading this article.** Copy the examples into your IDE and see the difference.

With proper syntax highlighting, indentation, and code folding, Juris code becomes incredibly clear and structured. If you struggle to read these examples, your JavaScript skills need work before tackling any modern framework.

**The code examples in this article are compressed for space.** In your editor, they‚Äôll look clean and logical.

Now let‚Äôs build a real application. We‚Äôll create a **Todo App with real-time collaboration** that would require thousands of lines of boilerplate in other frameworks.

## Minute 1‚Äì10: The Data Layer

```javascript
// Initialize state
context.setState('todos', []);
context.setState('users', [
    {id: 1, name: 'Alice', color: '#ff6b6b'},
    {id: 2, name: 'Bob', color: '#4ecdc4'},
    {id: 3, name: 'Charlie', color: '#45b7d1'}
]);
context.setState('currentUser', 1);

// Helper functions
const addTodo = (text) => {
    const todos = context.getState('todos', []);
    const newTodo = {
        id: Date.now(),
        text,
        completed: false,
        createdBy: context.getState('currentUser'),
        createdAt: new Date().toISOString()
    };
    context.setState('todos', [...todos, newTodo]);
};

const toggleTodo = (id) => {
    const todos = context.getState('todos', []);
    const updated = todos.map(todo => 
        todo.id === id ? {...todo, completed: !todo.completed} : todo
    );
    context.setState('todos', updated);
};

const deleteTodo = (id) => {
    const todos = context.getState('todos', []);
    context.setState('todos', todos.filter(todo => todo.id !== id));
};
```

## Minute 11‚Äì20: The Todo Item Component

```javascript
const TodoItem = (props, context) => {
    const users = context.getState('users', []);
    const creator = users.find(u => u.id === props.todo.createdBy);
    
    return {div: {
        class: 'todo-item',
        style: () => ({
            opacity: props.todo.completed ? 0.6 : 1,
            borderLeft: \`4px solid ${creator?.color || '#ccc'}\`,
            transform: props.todo.completed ? 'scale(0.98)' : 'scale(1)',
            transition: 'all 0.2s ease'
        }),
        children: [
            {input: {
                type: 'checkbox',
                checked: () => props.todo.completed,
                onchange: () => toggleTodo(props.todo.id)
            }},
            {span: {
                class: 'todo-text',
                text: props.todo.text,
                style: () => ({
                    textDecoration: props.todo.completed ? 'line-through' : 'none',
                    color: props.todo.completed ? '#888' : '#333'
                })
            }},
            {span: {
                class: 'todo-creator',
                text: \`by ${creator?.name || 'Unknown'}\`,
                style: {
                    fontSize: '0.8em',
                    color: creator?.color || '#888',
                    marginLeft: 'auto'
                }
            }},
            {button: {
                class: 'delete-btn',
                text: '√ó',
                onclick: () => deleteTodo(props.todo.id),
                style: {
                    color: '#ff4757',
                    background: 'none',
                    border: 'none',
                    cursor: 'pointer',
                    fontSize: '1.2em'
                }
            }}
        ]
    }};
};
```

## Minute 21‚Äì30: The Add Todo Form

```javascript
const AddTodoForm = (props, context) => ({
    form: {
        class: 'add-todo-form',
        onsubmit: (e) => {
            e.preventDefault();
            const text = context.getState('newTodo.text', '').trim();
            if (text) {
                addTodo(text);
                context.setState('newTodo.text', '');
            }
        },
        style: {
            display: 'flex',
            gap: '10px',
            marginBottom: '20px'
        },
        children: [
            {input: {
                type: 'text',
                placeholder: 'Add a new todo...',
                value: () => context.getState('newTodo.text', ''),
                oninput: (e) => context.setState('newTodo.text', e.target.value),
                style: {
                    flex: 1,
                    padding: '10px',
                    border: '1px solid #ddd',
                    borderRadius: '4px'
                }
            }},
            {button: {
                type: 'submit',
                text: 'Add',
                style: {
                    padding: '10px 20px',
                    backgroundColor: '#007acc',
                    color: 'white',
                    border: 'none',
                    borderRadius: '4px',
                    cursor: 'pointer'
                }
            }}
        ]
    }
});
```

## Minute 31‚Äì40: The Filter Controls

```javascript
const FilterControls = (props, context) => {
    const setFilter = (filter) => context.setState('filter', filter);
    const currentFilter = () => context.getState('filter', 'all');
    
    return {div: {
        class: 'filter-controls',
        style: {
            display: 'flex',
            gap: '10px',
            marginBottom: '20px'
        },
        children: [
            {button: {
                text: 'All',
                onclick: () => setFilter('all'),
                style: () => ({
                    padding: '8px 16px',
                    border: '1px solid #ddd',
                    borderRadius: '4px',
                    backgroundColor: currentFilter() === 'all' ? '#007acc' : 'white',
                    color: currentFilter() === 'all' ? 'white' : '#333',
                    cursor: 'pointer'
                })
            }},
            {button: {
                text: 'Active',
                onclick: () => setFilter('active'),
                style: () => ({
                    padding: '8px 16px',
                    border: '1px solid #ddd',
                    borderRadius: '4px',
                    backgroundColor: currentFilter() === 'active' ? '#007acc' : 'white',
                    color: currentFilter() === 'active' ? 'white' : '#333',
                    cursor: 'pointer'
                })
            }},
            {button: {
                text: 'Completed',
                onclick: () => setFilter('completed'),
                style: () => ({
                    padding: '8px 16px',
                    border: '1px solid #ddd',
                    borderRadius: '4px',
                    backgroundColor: currentFilter() === 'completed' ? '#007acc' : 'white',
                    color: currentFilter() === 'completed' ? 'white' : '#333',
                    cursor: 'pointer'
                })
            }}
        ]
    }};
};
```

## Minute 41‚Äì50: The User Selector

```javascript
const UserSelector = (props, context) => {
    const users = context.getState('users', []);
    const currentUser = () => context.getState('currentUser');
    
    return {div: {
        class: 'user-selector',
        style: {
            display: 'flex',
            gap: '10px',
            alignItems: 'center',
            marginBottom: '20px'
        },
        children: [
            {span: {text: 'Working as:'}},
            ...users.map(user => ({
                button: {
                    key: user.id,
                    text: user.name,
                    onclick: () => context.setState('currentUser', user.id),
                    style: () => ({
                        padding: '8px 16px',
                        border: \`2px solid ${user.color}\`,
                        borderRadius: '20px',
                        backgroundColor: currentUser() === user.id ? user.color : 'white',
                        color: currentUser() === user.id ? 'white' : user.color,
                        cursor: 'pointer',
                        fontWeight: currentUser() === user.id ? 'bold' : 'normal'
                    })
                }
            }))
        ]
    }};
};
```

## Minute 51‚Äì60: The Complete App

```javascript
const TodoApp = (props, context) => {
    const getFilteredTodos = () => {
        const todos = context.getState('todos', []);
        const filter = context.getState('filter', 'all');
        
        switch (filter) {
            case 'active':
                return todos.filter(todo => !todo.completed);
            case 'completed':
                return todos.filter(todo => todo.completed);
            default:
                return todos;
        }
    };
    
    const getStats = () => {
        const todos = context.getState('todos', []);
        return {
            total: todos.length,
            completed: todos.filter(t => t.completed).length,
            active: todos.filter(t => !t.completed).length
        };
    };
    
    return {div: {
        class: 'todo-app',
        style: {
            maxWidth: '600px',
            margin: '0 auto',
            padding: '20px',
            fontFamily: 'Arial, sans-serif'
        },
        children: [
            {h1: {
                text: 'Collaborative Todo App',
                style: {textAlign: 'center', color: '#333'}
            }},
            
            {UserSelector: {}},
            {AddTodoForm: {}},
            {FilterControls: {}},
            
            {div: {
                class: 'stats',
                style: {
                    display: 'flex',
                    justifyContent: 'space-between',
                    marginBottom: '20px',
                    padding: '10px',
                    backgroundColor: '#f8f9fa',
                    borderRadius: '4px'
                },
                children: () => {
                    const stats = getStats();
                    return [
                        {span: {text: \`Total: ${stats.total}\`}},
                        {span: {text: \`Active: ${stats.active}\`}},
                        {span: {text: \`Completed: ${stats.completed}\`}}
                    ];
                }
            }},
            
            {div: {
                class: 'todo-list',
                children: () => {
                    const filteredTodos = getFilteredTodos();
                    
                    if (filteredTodos.length === 0) {
                        return [{div: {
                            text: 'No todos found',
                            style: {
                                textAlign: 'center',
                                color: '#888',
                                padding: '40px'
                            }
                        }}];
                    }
                    
                    return filteredTodos.map(todo => ({
                        TodoItem: {todo, key: todo.id}
                    }));
                }
            }}
        ]
    }};
};

// Launch the app
// juris.registerComponent('TodoApp', TodoApp);
// {TodoApp: {}}
```